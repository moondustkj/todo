(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports={login:"Login__login__2yZAa",heading:"Login__heading__2E6UO",btn:"Login__btn__32atD"}},22:function(e,t,a){e.exports={Input:"Input__Input__1VROp",Label:"Input__Label__1tOSX",InputElement:"Input__InputElement__3TB0k",Invalid:"Input__Invalid__38X2d"}},31:function(e,t,a){e.exports={"fa-list":"TodoList__fa-list__3Vzu8",logout:"TodoList__logout__OGUNU",btn:"TodoList__btn__JYwyL",Box:"TodoList__Box__2wQdF"}},45:function(e,t,a){e.exports={Box:"Auxiliary__Box__1vemP"}},46:function(e,t,a){e.exports={Box:"App__Box__1UqFV"}},47:function(e,t,a){e.exports={Input:"InputField__Input__1dF23"}},51:function(e,t,a){e.exports={Loader:"Spinner__Loader__3dgUo",load1:"Spinner__load1__3JQ2Z"}},54:function(e,t,a){e.exports=a(84)},59:function(e,t,a){},6:function(e,t,a){e.exports={tasks:"ListItems__tasks__1j6nU",iconCircle:"ListItems__iconCircle__3mnaP",edit:"ListItems__edit__2O5Lw",delete:"ListItems__delete__3KWPX",checkBoxContainer:"ListItems__checkBoxContainer__2dl10",checkBoxContianer:"ListItems__checkBoxContianer__1aZ80",checkmark:"ListItems__checkmark__3214Q",mycheck:"ListItems__mycheck__3ohfy",pencil:"ListItems__pencil__2nJPJ"}},84:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(24),o=a.n(r),l=(a(59),a(15)),c=a(16),s=a(18),u=a(17),d=a(19),m=a(45),p=a.n(m),h=function(e){return i.a.createElement("div",{className:p.a.Box},e.children)},_=a(46),g=a.n(_),f=a(11),v=a(23),b=a(47),E=a.n(b),y=function(e){return i.a.createElement("input",{className:E.a.Input,type:"text",onChange:e.change,onKeyPress:e.pressed,value:e.value})},k=a(6),I=a.n(k),x=a(26),T=a(27),w=function(e){var t=[I.a.iconCircle,I.a.delete],a=[I.a.iconCircle,I.a.edit],n=[I.a.iconCircle,I.a.pencil];return i.a.createElement("ul",{className:I.a.list},i.a.createElement("li",null,i.a.createElement("label",{className:I.a.checkBoxContainer},i.a.createElement("input",{type:"checkbox"}),i.a.createElement("span",{className:I.a.checkmark})),i.a.createElement("span",{className:I.a.tasks},e.tasks),i.a.createElement(T.a,{icon:x.c,className:t.join(" "),onClick:e.clicked}),e.isEdited?i.a.createElement(T.a,{icon:x.b,className:n.join(" "),onClick:e.edit}):i.a.createElement(T.a,{icon:x.a,className:a.join(" "),onClick:e.edit}),i.a.createElement("br",null),e.wantToEdit?i.a.createElement(y,{change:e.change}):null))},j=a(10),O=a(31),S=a.n(O),L=a(50),N=a.n(L),A=function(e,t,a){return{type:"AUTH_SUCCESS",idToken:e,userId:t,userName:a}},C=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},H=function(e){return function(t){setTimeout(function(){t(C())},1e3*e)}},U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={text:"",editedText:"",items:[],empty:!0,wantToEdit:!1},a.inputHandler=function(e){e.preventDefault(),a.setState({text:e.target.value,empty:!1})},a.editInputHandler=function(e){e.preventDefault(),a.setState({editedText:e.target.value,empty:!1})},a.addHandler=function(){a.setState({text:"",items:[].concat(Object(v.a)(a.state.items),[a.state.text]),empty:!0})},a.deleteHandler=function(e){var t=Object(v.a)(a.state.items);t.splice(e,1),a.setState({items:t})},a.enterHandler=function(e){13!==(e.keyCode||e.which)||a.state.empty||a.setState({text:"",empty:!0,items:[].concat(Object(v.a)(a.state.items),[a.state.text])})},a.editHandler=function(e){var t=Object(v.a)(a.state.items);t.splice(e,1,a.state.editedText),a.setState({items:t,text:"",wantToEdit:!a.state.wantToEdit})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.state.items.map(function(e,a){return i.a.createElement(w,{tasks:e,key:a,edit:function(){return t.editHandler(a)},change:t.editInputHandler,wantToEdit:t.state.wantToEdit,enter:t.enterHandler,isEdited:t.state.wantToEdit,clicked:function(){return t.deleteHandler(a)}})}),console.log(this.state.editedText),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.props.onLogout,className:S.a.logout},"LogOut"),i.a.createElement("br",null),i.a.createElement("h1",null,"Todo list app"),i.a.createElement("span",null,"Welcome ",this.props.userName),i.a.createElement("br",null),i.a.createElement(y,{change:this.inputHandler,value:this.state.text,pressed:this.enterHandler}),i.a.createElement("button",{disabled:this.state.empty,onClick:this.addHandler,className:S.a.btn},"add"),e)}}]),t}(i.a.Component),P=Object(j.b)(function(e){return{userName:e.auth.userName}},function(e){return{onLogout:function(){return e(C())}}})(U),R=a(9),B=a(22),z=a.n(B),D=function(e){var t=null,a=[z.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&a.push(z.a.Invalid),e.elementtype){case"input":case"email":t=i.a.createElement("input",Object.assign({className:a.join("")},e.elementconfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=i.a.createElement("textarea",Object.assign({className:a.join("")},e,{value:e.value,onChange:e.changed}));break;case"select":t=i.a.createElement("select",Object.assign({className:a.join("")},e,{value:e.value}),e.elementconfig.options.map(function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}),"console.log(optn.value);");break;default:t=i.a.createElement("input",Object.assign({className:a.join("")},e,{value:e.value}))}return i.a.createElement("div",{className:z.a.Input},i.a.createElement("label",{className:z.a.Label},e.label),t)},F=a(51),V=a.n(F),q=function(e){return i.a.createElement("div",{className:V.a.Loader}," Loading....")},G=a(20),J=a.n(G),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={controls:{userName:{elementtype:"input",elementconfig:{type:"text",placeholder:"enter your UserName"},value:"o",touched:!1},email:{elementtype:"input",elementconfig:{type:"email",placeholder:"enter your email"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementtype:"input",elementconfig:{type:"password",placeholder:"enter your password"},value:"",validation:{required:!0,minLength:7},valid:!1,touched:!1}},isSignUp:!0},a.switchAuthModeHandler=function(){a.setState(function(e){return{isSignUp:!e.isSignUp}})},a.changeHandler=function(e,t){var n=Object(R.a)({},a.state.controls);n[t]=Object(R.a)({},a.state.controls[t],{value:e.target.value,valid:a.checkValidity(e.target.value,a.state.controls[t].validation),touched:!0}),a.setState({controls:n})},a.submitHandler=function(e){e.preventDefault(),a.props.onAuth(a.state.controls.email.value,a.state.controls.password.value,a.state.isSignUp,a.state.controls.userName.value)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.building||"/"===this.props.authRedirectPath||this.props.onSetRedirectPath()}},{key:"checkValidity",value:function(e,t){var a=!0;if(!t)return!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}if(t.isNumeric){a=/^\d+$/.test(e)&&a}return a}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.controls)t.push({id:a,config:this.state.controls[a]});var n=t.map(function(t){return i.a.createElement(D,{key:t.id,elementtype:t.config.elementtype,elementconfig:t.config.elementconfig,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(a){return e.changeHandler(a,t.id)}})}),r=null;this.props.error&&(r=i.a.createElement("p",null,this.props.error.message)),this.props.loading&&(n=i.a.createElement(q,null));var o=null;return this.props.isAuthenticated&&(o=i.a.createElement(f.a,{to:this.props.authRedirectPath})),i.a.createElement("div",{className:J.a.login},i.a.createElement("h1",{className:J.a.heading},"First Login, then Get Productive!"),o,i.a.createElement("form",{onSubmit:this.submitHandler},n,i.a.createElement("button",{disabled:!this.state.controls.email.value,className:J.a.btn},"Submit"),i.a.createElement("button",{onClick:this.switchAuthModeHandler,className:J.a.btn},"Switch to ",this.state.isSignUp?"Sign in":"Sign up")),i.a.createElement("div",{className:J.a.error},r))}}]),t}(n.Component),$=Object(j.b)(function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!=e.auth.token,authRedirectPath:e.auth.authRedirectPath}},function(e){return{onAuth:function(t,a,n,i){return e(function(e,t,a,n){return function(i){i({type:"AUTH_START"});var r={email:e,password:t,returnSecureToken:!0},o="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyCtGqLgE7bTFbggFwRuAjpmW92NbAbz8Co";a||(o="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyCtGqLgE7bTFbggFwRuAjpmW92NbAbz8Co"),N.a.post(o,r).then(function(e){console.log(e);var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("userName",n),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),i(A(e.data.idToken,e.data.localId,n)),i(H(e.data.expiresIn))}).catch(function(e){console.log(e),i({type:"AUTH_FAIL",error:e.response.data.error})})}}(t,a,n,i))},onSetRedirectPath:function(){return e({type:"SET_AUTH_REDIRECT_PATH",path:"/"})}}})(W),M=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=i.a.createElement(f.d,null,i.a.createElement(f.b,{path:"/",exact:!0,component:$}),i.a.createElement(f.a,{to:"/"}));return this.props.isAuthenticated&&(e=i.a.createElement(f.d,null,i.a.createElement(f.b,{path:"/login",component:$}),i.a.createElement(f.b,{path:"/",exact:!0,component:P}))),i.a.createElement(h,null,i.a.createElement("div",{className:g.a.Box},e))}}]),t}(n.Component),Q=Object(j.b)(function(e){return{isAuthenticated:null!=e.auth.token}})(M),X=a(25);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(12),K=a(53),Y={token:null,loading:!1,userId:null,error:null,userName:"",authRedirectPath:"/"},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Object(R.a)({},e,{loading:!0,error:null});case"AUTH_FAIL":return Object(R.a)({},e,{error:t.error,loading:!1});case"AUTH_SUCCESS":return Object(R.a)({},e,{loading:!1,token:t.idToken,userId:t.userId,error:null,userName:t.userName});case"AUTH_LOGOUT":return Object(R.a)({},e,{loading:!1,token:null,userId:null,error:null});case"SET_AUTH_REDIRECT_PATH":return Object(R.a)({},e,{authRedirectPath:t.path});default:return e}},te=Z.d,ae=Object(Z.c)({auth:ee}),ne=Object(Z.e)(ae,te(Object(Z.a)(K.a))),ie=i.a.createElement(j.a,{store:ne},i.a.createElement(X.a,null,i.a.createElement(Q,null)));o.a.render(ie,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[54,1,2]]]);
//# sourceMappingURL=main.cf271f80.chunk.js.map